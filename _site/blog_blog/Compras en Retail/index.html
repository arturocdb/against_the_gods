<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.353">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Contra los dioses - Compras en Retail</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../images/profile.jpg" rel="icon" type="image/jpeg">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-7NN6VFNJH3"></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-7NN6VFNJH3', { 'anonymize_ip': true});
</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Contra los dioses</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html" rel="" target="">
 <span class="menu-text">Inicio</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../blog.html" rel="" target="">
 <span class="menu-text">Store</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../blog_blog.html" rel="" target="">
 <span class="menu-text">Blog</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../proyectos.html" rel="" target="">
 <span class="menu-text">Proyectos</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html" rel="" target="">
 <span class="menu-text">Acerca de nosotros</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-bi-linkedin" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
      <i class="bi bi-linkedin" role="img">
</i> 
 <span class="menu-text"></span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-bi-linkedin">    
        <li>
    <a class="dropdown-item" href="https://www.linkedin.com/in/charlie-arturo-do-amaral-becerra/" rel="" target="">
 <span class="dropdown-text">Charlie Do Amaral</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://www.linkedin.com/in/f3rnando-parada/" rel="" target="">
 <span class="dropdown-text">Fernando Parada</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.youtube.com/@Estadistiqueando" rel="" target=""><i class="bi bi-youtube" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<div class="quarto-about-marquee">
  <div class="about-image-container">
    <img src="buying_in_retail.jpeg" class="about-image " style="width: 100%;">
  </div>
  <div class="about-contents">
    <header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Compras en Retail</h1>
  <div class="quarto-categories">
    <div class="quarto-category">Retail</div>
  </div>
  </div>
<div class="quarto-title-meta">
  </div>
</header> <main class="content" id="quarto-document-content">
<section id="objetivos" class="level2">
<h2 data-anchor-id="objetivos">Objetivos</h2>
<ul>
<li><p>Describir la función de compra.</p></li>
<li><p>Explicar qué se entiende por compra de mercancías y planificación de reposición.</p></li>
<li><p>Defina varios métodos para preparar el plan de compras para una organización minorista.</p></li>
<li><p>Comprender el uso de la herramienta de planificación anticipada de ‘OpenTo Buy’ en el proceso de compra.</p></li>
<li><p>Elucidar las actividades clave de compra y los pasos involucrados en ellas.</p></li>
<li><p>Tener una comprensión de la organización de compras con los roles y responsabilidades clave de los compradores.</p></li>
</ul>
</section>
<section id="la-función-de-compra" class="level2">
<h2 data-anchor-id="la-función-de-compra">La función de compra</h2>
<p>Comprar para una organización minorista es una función fundamental de la gestión de mercancías. El proceso de compra comienza con la preparación del plan de compra, utilizando varios métodos. La planificación de compras comienza desde el proceso de presupuestación de compras a través de una adecuada planificación financiera. Dicha planificación financiera se basa en la inversión en inventario planificada como resultado del número de rotaciones de stock planificadas para cada tienda, acumuladas para la organización. El modelo de compra de mercancías definido aquí aclara los pasos del proceso de compra de mercancías.</p>
<section id="cumplimiento-de-la-gama-y-el-surtido-abastecimiento" class="level3">
<h3 data-anchor-id="cumplimiento-de-la-gama-y-el-surtido-abastecimiento">Cumplimiento de la gama y el surtido (abastecimiento)</h3>
<p>Una vez que el plan de compra está listo, se debe obtener la mercancía. Dado que la planificación de mercancías en su rango y la planificación de surtidos han elaborado los números en cada peldaño de la jerarquía, la división de compras del departamento de compras y comercialización tiene que comenzar el proceso de abastecimiento de mercancías. Para una tienda por departamentos multimarca, el proceso de abastecimiento es simple y se extiende hasta el punto de obtener mercadería de las marcas que el surtido de la tienda tiene en su arquitectura. Para obtener las otras categorías, la función de compras identifica a los proveedores correctos con el tipo correcto de capacidades.</p>
<p>Figura 1.1 Modelo de compras</p>
<p><img src="01.png" class="img-fluid"></p>
</section>
<section id="gestión-de-proveedores" class="level3">
<h3 data-anchor-id="gestión-de-proveedores">Gestión de proveedores</h3>
<p>Para cualquier organización minorista exitosa, la función de compras debe trabajar de manera eficiente con proveedores muy confiables que estén dispuestos a asociarse con la organización para lograr una rentabilidad mutua a largo plazo al satisfacer las necesidades de los clientes. El proceso de selección de proveedores seguido en cualquier organización minorista comienza con la evaluación de las capacidades del proveedor; la selección se basa en el cumplimiento de los criterios requeridos, lo que implica la negociación y luego la finalización mediante la celebración de un contrato de asociación a largo plazo.</p>
<p><img src="02.png" class="img-fluid"></p>
<p><em>Evaluación de proveedores</em>: la evaluación de proveedores se realiza en función de los parámetros seguidos por la organización. La evaluación de los proveedores tiene en cuenta algunos aspectos como la ubicación del proveedor, las capacidades para producir la mercancía requerida, etc. Dicha evaluación se realiza entre los muchos proveedores disponibles.</p>
<p><em>Selección de proveedores</em>: el proceso de selección de proveedores logra la elección de los proveedores adecuados para trabajar con la organización. Esto incluye las mejores capacidades de su clase junto con la capacidad de lograr los objetivos correctos de costos y fijación de precios de la organización. Negociar las tarifas con los proveedores adecuados constituye una parte importante del proceso de selección de proveedores.</p>
<p><em>Asociación de proveedores</em>: una vez que se finaliza la selección y se cumplen las capacidades y los criterios requeridos, se inicia una asociación entre la organización minorista y el proveedor a través de un acuerdo que elabora los términos, roles y responsabilidades de cada parte. Las grandes organizaciones minoristas a menudo trabajan con 300 a 400 proveedores y una relación a largo plazo es fundamental para fomentar el crecimiento mutuo sostenible en la industria.</p>
</section>
<section id="desarrollo-de-proveedores" class="level3">
<h3 data-anchor-id="desarrollo-de-proveedores">Desarrollo de proveedores</h3>
<p>Para productos nuevos e innovadores desarrollados como parte de la cartera de marcas en la tienda, es posible que los proveedores experimentados no estén disponibles para suministrarlos. En tal escenario, el equipo de compras identifica posibles proveedores con capacidades básicas y los convierte en proveedores con las capacidades específicas deseadas. A menudo, la organización puede trabajar con dichos proveedores asociándolos con inversiones.</p>
</section>
<section id="negociación-con-proveedores" class="level3">
<h3 data-anchor-id="negociación-con-proveedores">Negociación con proveedores</h3>
<p>Negociar con los proveedores es un arte que suelen dominar los compradores. Las organizaciones minoristas utilizan sus habilidades y el poder de las adquisiciones cuánticas para negociar buenos precios con los proveedores. Una situación en la que todos ganan puede fomentar una relación sana entre el minorista y el vendedor. Los minoristas negocian con los proveedores descuentos tales como descuentos comerciales, descuentos por cantidad, descuentos promocionales o de exhibición y descuentos por pago. (La negociación de descuentos es únicamente aplicable si el proveedor no puede o tiene la capacidad de demostrar valor superior).</p>
<p><strong><em>Descuento comercial</em></strong></p>
<p>En algunos casos, el minorista aprovecha los suministros directos de los agentes o mayoristas del vendedor y el vendedor trata al minorista como una cuenta clave y el descuento adicional se transfiere al socio del canal comercial que se entrega al minorista. Esto se conoce como descuento comercial.</p>
<p><strong><em>Desarrollo de proveedores</em></strong></p>
<p>Para productos nuevos e innovadores desarrollados como parte de la cartera de marcas en la tienda, es posible que los proveedores experimentados no estén disponibles para suministrarlos. En tal escenario, el equipo de compras identifica posibles proveedores con capacidades básicas y los convierte en proveedores con las capacidades específicas deseadas. A menudo, la organización puede trabajar con dichos proveedores asociándolos con inversiones.</p>
<p><strong><em>Negociación con proveedores</em></strong></p>
<p>Negociar con los proveedores es un arte que suelen dominar los compradores. Las organizaciones minoristas utilizan sus habilidades y el poder de las adquisiciones cuánticas para negociar buenos precios con los proveedores. Una situación en la que todos ganan puede fomentar una relación sana entre el minorista y el vendedor. Los minoristas negocian con los proveedores descuentos tales como descuentos comerciales, descuentos por cantidad, descuentos promocionales o de exhibición y descuentos por pago. (La negociación de descuentos es únicamente aplicable si el proveedor no puede o tiene la capacidad de demostrar valor superior).</p>
<p><strong><em>Descuento comercial</em></strong></p>
<p>En algunos casos, el minorista aprovecha los suministros directos de los agentes o mayoristas del vendedor y el vendedor trata al minorista como una cuenta clave y el descuento adicional se transfiere al socio del canal comercial que se entrega al minorista. Esto se conoce como descuento comercial.</p>
<p><strong><em>Exhibición o Descuento Promocional</em></strong></p>
<p>Cuando el minorista acepta ofrecer un espacio exclusivo en los estantes o una tienda dentro de la tienda, o cuando el minorista promociona la mercancía del vendedor con esfuerzos especiales, el minorista negocia un descuento adicional del vendedor. En los supermercados, es una práctica común que las marcas de gran consumo alquilen espacio en los estantes y ofrezcan descuentos promocionales. A veces, tales descuentos se negocian a tasas altas si las conversiones de ventas son mayores.</p>
<p><strong><em>Descuento de pago</em></strong></p>
<p>Si los minoristas realizan el pago dentro de un período de tiempo específico o cuando el minorista realiza pagos al contado en efectivo, negocian descuentos más altos con los proveedores. Es una práctica común entre los minoristas solicitar descuentos adicionales cuando realizan pagos instantáneos a los proveedores.</p>
<p>El poder de negociación de los minoristas se fortalece a medida que las organizaciones minoristas crecen con su expansión a varios lugares y con el consiguiente aumento en los volúmenes de mercadería comprada a los proveedores.</p>
</section>
</section>
<section id="métodos-y-controles-de-compra" class="level2">
<h2 data-anchor-id="métodos-y-controles-de-compra">Métodos y controles de compra</h2>
<p>El plan de compras se elabora siguiendo los presupuestos económicos previstos para cada período. Hay tres métodos populares mediante los cuales se realiza la previsión de la demanda mientras se prepara el plan de compras en las organizaciones minoristas. Ellos son:</p>
<ul>
<li><p>Método de existencias estándar</p></li>
<li><p>Método de suministro de semanas</p></li>
<li><p>Método Open To buy</p></li>
</ul>
<section id="método-de-existencias-estándar" class="level3">
<h3 data-anchor-id="método-de-existencias-estándar">Método de existencias estándar</h3>
<p>El plan de compras se prepara para determinar el inventario de inicio de mes considerando las ventas previstas para el período y el stock de seguridad como nivel de stock estándar. Este método permite una cantidad/valor variable del inventario como stock de seguridad que puede aumentar o disminuir dependiendo de las ventas durante cada período de ventas en el factor de valor de las ventas esperadas del período. Se calcula de la siguiente manera:</p>
<p><span class="math display">\[\frac{Total\ ventas\ pronosticadas\ para\ el\ periodo}{Numero\ de\ meses\ en\ el\ periodo}=\ Promedio\ de\ ventas\ mensuales\ para\ el\ periodo\]</span></p>
<p><span class="math display">\[\frac{Total\ ventas\ pronosticadas\ para\ el\ periodo}{Rotacion\ de\ existencias\ estimadas\ para\ el\ periodo}=\ Stock\ promedio\ para\ el\ periodo\]</span></p>
<p><span class="math inline">\(Stock\ promedio\ del\ periodo\ -\ Promedio\ de\ ventas\ mensuales\ del\ periodo\ =\ Stock\ estándar\)</span></p>
<p><span class="math inline">\(Stock\ estándar\ +\ Ventas\ mensuales\ planificadas\ =\ Stock\ de\ principio\ de\ mes\ (BOM)\  en\ Retail\)</span></p>
<p>El papel del stock de seguridad es amortiguar el inventario contra cualquier posibilidad de fluctuaciones en las ventas. Las órdenes de compra se liberan en función de la brecha entre el stock de cierre exacto y el stock esperado a principios de mes del período subsiguiente.</p>
<p><strong>Ejemplo</strong>: Veamos el ejemplo de una tienda que vende una categoría de mercaderia con una rotación de existencias de 6 veces al año (Trimestral 1.5 veces). Con ventas planificadas de 30,000 en un trimestre (Tres meses de ventas planificadas de enero 10,000, febrero 8,000 y marzo 12,000)</p>
<p><span class="math display">\[\frac{30,000}{3}=\ 10,000\]</span></p>
<p><span class="math display">\[\frac{Total\ ventas\ pronosticadas\ para\ el\ periodo}{Rotacion\ de\ existencias\ estimadas\ para\ el\ periodo}=\ Stock\ promedio\ para\ el\ periodo\]</span></p>
<p><span class="math display">\[\frac{30,000}{1,5}=\ 20,000\]</span></p>
<p><span class="math inline">\(Stock\ promedio\ del\ periodo\ -\ Promedio\ de\ ventas\ mensuales\ del\ periodo\ = Stock\ estándar\)</span></p>
<p>Entonces, <span class="math inline">\(Stock\ básico\ =\ (20,000\ -\ 10,000)\ =\ 10,000\)</span></p>
<p><span class="math inline">\(Stock\ estándar\ +\ Ventas\ mensuales\ planificadas\ =\ Stock\ de\ principio\ de\ mes\ (BOM)\  en\ Retail\)</span></p>
<p>Entonces,</p>
<p><span class="math inline">\(BOM\ para\ enero\ =\ (10,000\ +\ 10,000)\ =\ 20,000\)</span></p>
<p><span class="math inline">\(BOM\ para\ enero\ =\ (10,000\ +\ 8,000)\ =\ 18,000\)</span></p>
<p><span class="math inline">\(BOM\ para\ enero\ =\ (10,000\ +\ 12,000)\ =\ 22,000\)</span></p>
<p>Los stocks BOM también se pueden calcular para la cantidad y el ejemplo que se muestra arriba se puede calcular aplicando la cantidad también.</p>
</section>
<section id="método-de-suministro-de-semanas" class="level3">
<h3 data-anchor-id="método-de-suministro-de-semanas">Método de suministro de semanas</h3>
<p>En este método, los periodos de venta se expresan en semanas. Se llega al nivel de inventario calculando las existencias iguales a un número previsto de semanas de suministro relacionándolo con el número previsto de rotaciones de existencias.</p>
<p><span class="math display">\[\frac{Numero\ de\ semanas\ en\ el\ periodo}{Tasa\ de\ rotacion\ de\ stock\ para\ el\ periodo}\ =\ Numero\ de\ existencias\ de\ la\ semana\]</span></p>
<p><span class="math display">\[\frac{Tasa\ de\ ventas\ estimadas\ para\ el\ periodo}{Numero\ de\ semanas\ en\ el\ periodo}\ =\ Promedio\ de\ ventas\ semanales\]</span></p>
<p><span class="math inline">\(Promedio\ de\ ventas\ semanales\ ×\ Número\ de\ semanas\ para\ almacenar\ =\ Stock\ BOM\)</span></p>
<p>Por lo tanto, el stock de comienzo de mes se determina tomando en consideración la tasa de rotación de stock planificada que generalmente se obtiene como norma o estándar de la industria a partir de varios informes del sector o se estudia mediante la observación de prácticas competitivas.</p>
<p><strong>Ejemplo</strong>: Aplicando los mismos números que vimos en el ejemplo citado en el Método de Stock Estándar,</p>
<p><span class="math display">\[\frac{Numero\ de\ semanas\ en\ el\ periodo}{Tasa\ de\ rotacion\ de\ stock\ para\ el\ periodo}\ =\ Numero\ de\ existencias\ de\ la\ semana\]</span></p>
<p><span class="math display">\[\frac{12}{1,5}=\ 8\]</span></p>
<p><span class="math display">\[\frac{Tasa\ de\ ventas\ estimadas\ para\ el\ periodo}{Numero\ de\ semanas\ en\ el\ periodo}\ =\ Promedio\ de\ ventas\ semanales\]</span></p>
<p><span class="math display">\[\frac{30,000}{12}=\ 2,500\]</span></p>
<p><span class="math inline">\(Promedio\ de\ ventas\ semanales\ ×\ Número\ de\ semanas\ para\ almacenar\ =\ Stock\ BOM\)</span></p>
<p><span class="math inline">\(BOM\ =\ 2,500\ ×\ 8\ =\ 20,000\)</span></p>
<p>Dado que las ventas semanales promedio y el almacenamiento de existencias de 8 semanas después del índice de rotación de existencias planificado se tienen en cuenta en la planificación de existencias, el BOM para enero, febrero y marzo en el trimestre es de 20,000.</p>
</section>
<section id="open-to-buy-otb" class="level3">
<h3 data-anchor-id="open-to-buy-otb">Open To Buy (OTB)</h3>
<p>El método más popular seguido en todo el mundo en la compra minorista moderna es el proceso OTB, que es una herramienta eficiente para controlar las compras dentro de los presupuestos financieros y de cantidad. Ayuda a los minoristas a proyectar y controlar las compras futuras para que el flujo de mercancías en la tienda coincida con las ventas anticipadas a las tasas de rotación de existencias deseadas para generar un flujo de efectivo positivo.</p>
<p>Para la compra organizada, es necesario seguir la planificación OTB, ya que evita la compra excesiva, elimina la confusión y permite que la organización obtenga más ganancias.</p>
<p>Entonces, ¿qué es exactamente OTB? OTB se refiere a la mercadería presupuestada para su compra durante un determinado período de tiempo para la cual aún no se han ordenado las existencias. También es el proceso de pronosticar ventas y compras. OTB es una herramienta de planificación que ayuda a establecer presupuestos para los niveles de inventario de ventas y mercancías y a monitorear el estado actual de la cantidad de OTB, que es la cantidad que queda por ordenar para cumplir con el presupuesto.</p>
<p>Todos los minoristas deben usar un plan OTB, ya que muchos tienden a tener existencias excesivas cuando las ventas aumentan y faltan existencias cuando son bajas. A menudo, un pequeño aumento en las ventas conduce a compras excesivas que, en última instancia, afectan el resultado final de la organización minorista. OTB ayuda a un minorista a fijar la cantidad ideal de existencias que debe tener disponible al comienzo de un mes determinado y la cantidad de mercancías nuevas que se recibirán durante el mes.</p>
<p>Un plan OTB eficiente tiene los siguientes elementos:</p>
<ol type="a">
<li><p><strong>Planificación de ventas anticipadas</strong> (pronóstico de ventas): el plan de ventas debe prepararse para todo el año con detalles mensuales de las ventas planificadas. Un buen plan OTB ayuda a reaccionar ante variaciones en los planes de venta (a medida que se acaba el mes en curso), reprogramar entregas y cancelar o alterar órdenes de compra para futuras entregas, según sea el caso.</p></li>
<li><p><strong>Cobertura delantera</strong>: Esto se basa en las rotaciones de existencias planificadas para el equipo minorista. Por ejemplo, si la rotación de existencias planificada para la tienda es cuatro veces al año, entonces la tenencia de existencias ideal en cualquier momento debería ser equivalente a la cobertura de existencias de tres meses.</p></li>
<li><p><strong>Stock Requerido</strong>: Esto se basa en la cobertura delantera planeada para la tienda. Si la cobertura a plazo es para tres meses y el mes actual es el mes 1, entonces el stock requerido será la suma de las ventas planificadas/previstas de los meses 2, 3 y 4.</p></li>
<li><p><strong>Inventario inicial (Principio de mes - BOM)</strong>: El valor del inventario inicial es un cálculo de flujo. En la planificación OTB, la primera entrada es una estimación. A partir del segundo mes en adelante, el stock de apertura es la cifra de stock de cierre del mes anterior.</p></li>
<li><p><strong>Requisito de entrada</strong>: Esta es la diferencia entre el stock requerido y el stock de apertura.</p></li>
<li><p><strong>En Pedido</strong>: Son las existencias que ya han sido ordenadas y que deben entregarse durante el período correspondiente.</p></li>
<li><p><strong>Abierto para recibir</strong>: Esta cifra se obtiene deduciendo el stock en pedido, si lo hay, del requisito de admisión. Esta cifra indica la cantidad de OTB.</p></li>
<li><p><strong>Inventario de cierre</strong>: Para llegar a esta cifra, es necesario tomar el inventario de apertura, restar las ventas y sumar las cantidades en pedido y abiertas para recibir.</p></li>
</ol>
<p>Figura 1.1 Un plan modelo OTB sobre cantidad</p>
<p><img src="03.png" class="img-fluid"></p>
<p>Tabla 1.2 Un plan modelo OTB en valor</p>
<p><img src="04.png" class="img-fluid"></p>
</section>
<section id="ventajas-de-un-plan-open-to-buy" class="level3">
<h3 data-anchor-id="ventajas-de-un-plan-open-to-buy">Ventajas de un plan Open To Buy</h3>
<ol type="1">
<li><p>El plan OTB permite a los minoristas estimar por adelantado la cantidad de capital de trabajo que debe emplearse en inventario de mes a mes.</p></li>
<li><p>Ayuda a garantizar el nivel de inventario correcto para respaldar las ventas planificadas y lograr el mejor margen bruto de retorno del inventario (GMROI).</p></li>
<li><p>El plan OTB impone restricciones a los compromisos de mercadería para que la tienda reciba la mercadería correcta en el momento correcto y no antes o después.</p></li>
<li><p>Permite un flujo continuo de mercancía fresca a la tienda mes tras mes durante la temporada.</p></li>
<li><p>El plan OTB establece metas para que el desempeño real se pueda comparar con el plan y se puedan tomar acciones correctivas en las áreas requeridas.</p></li>
<li><p>Por encima de todo esto, un plan OTB eficiente brinda a la organización más oportunidades de obtener ganancias.</p></li>
</ol>
<p>Los minoristas que siguen un plan OTB bien formulado tienen éxito en sus esfuerzos de comercialización y compra. El sistema de gestión de mercancías empleado en la organización generalmente admite tales técnicas estadísticas en el plan OTB, pero es la percepción del comprador y la capacidad de toma de decisiones lo que ayuda a obtener los mejores resultados. Los minoristas aplican universalmente el concepto OTB, independientemente de las categorías de mercancías con las que operen.</p>
<p>Si bien el método de existencias estándar y el método de suministro de semanas requieren que se tenga en cuenta una existencia estándar, carecen de flexibilidad para modificar los niveles de inventario inmediatamente después de las ventas. Solo OTB tiene la disposición adecuada para realinear rápidamente los requisitos de compra y, por lo tanto, es el método ampliamente elegido para preparar planes de compra.</p>
</section>
</section>
<section id="actividades-de-compra-clave" class="level2">
<h2 data-anchor-id="actividades-de-compra-clave">Actividades de compra clave</h2>
<p>El proceso de compra minorista implica las siguientes actividades clave de compra. Los compradores siguen algunos pasos claros mientras realizan el proceso de compra para cada categoría específica. Las acciones de compra comprenden los siguientes pasos:</p>
<section id="identificación-de-oportunidades-y-tendencias-de-mercado" class="level3">
<h3 data-anchor-id="identificación-de-oportunidades-y-tendencias-de-mercado">Identificación de oportunidades y tendencias de mercado</h3>
<p>El primer paso en las actividades de compra es identificar las oportunidades y tendencias del mercado por adelantado. Por lo general, los funcionarios de compras identifican las tendencias con un año de anticipación y la planificación del rango para el próximo año se realiza en el año en curso. Esto implica una previsión precisa de las tendencias en cada mercado en el que opera el minorista. La tarea incluye estudiar la gama de mercancías de los competidores en detalle si alguna competencia es relevante para el negocio del minorista.</p>
</section>
<section id="coordinación-con-el-comerciante-para-cumplir-con-el-plan-de-rango-y-surtido" class="level3">
<h3 data-anchor-id="coordinación-con-el-comerciante-para-cumplir-con-el-plan-de-rango-y-surtido">Coordinación con el comerciante para cumplir con el plan de rango y surtido</h3>
<p>El equipo de compras se coordina regularmente con el equipo de merchandising para brindar inteligencia de mercado e información sobre las preferencias de los consumidores, especialmente de los competidores y de los mercados progresivos, para facilitar la preparación de la gama y el plan de surtido. Si esto no se hace, el plan puede quedar sesgado solo hacia la proyección de línea recta del surtido basado solo en el desempeño histórico. No habrá ninguna oportunidad de introducir nuevas líneas de mercancías. Los compradores comprenden la gama y el plan de surtido y preparan el plan de compra con detalles de la profundidad de la gama (opciones y estilos) en cada categoría y subcategoría específica.</p>
</section>
<section id="desarrollo-de-productos-con-costeo-y-fijación-de-precios" class="level3">
<h3 data-anchor-id="desarrollo-de-productos-con-costeo-y-fijación-de-precios">Desarrollo de productos con costeo y fijación de precios</h3>
<p>El equipo de compras está involucrado en los procesos de desarrollo de productos desde las ideas, desde el diseño hasta el desarrollo, generalmente en la mercancía de la marca propia de la tienda. El equipo comprende los presupuestos financieros y organiza el abastecimiento, que incluye actividades que van desde la conceptualización del diseño hasta el costeo y la fijación de precios hasta la comercialización. Comprender los puntos de precio para grupos de productos específicos mientras se compra es una actividad clave que facilita el proceso de compra.</p>
</section>
<section id="diseño-del-plan-de-compras-y-abastecimiento-de-los-proveedores-adecuados" class="level3">
<h3 data-anchor-id="diseño-del-plan-de-compras-y-abastecimiento-de-los-proveedores-adecuados">Diseño del plan de compras y abastecimiento de los proveedores adecuados</h3>
<p>La preparación del plan de compra es el punto de apoyo de todas las actividades clave de compra. Los compradores suelen preparar el plan de compra para cada categoría a nivel de opción y SKU siguiendo la planificación OTB. Después de la preparación de OTB, las órdenes de compra se envían a los respectivos proveedores. El equipo de compras realiza un seguimiento de las órdenes de compra para lograr ‘tasas de aciertos’ efectivas (la tasa de aciertos es la medida de la eficiencia de los suministros realizados contra los pedidos especificados en la orden de compra en términos de cantidad, calidad y puntualidad) y las acciones correctivas tomadas.</p>
</section>
<section id="presentación-de-mercancía-en-el-punto-de-venta" class="level3">
<h3 data-anchor-id="presentación-de-mercancía-en-el-punto-de-venta">Presentación de Mercancía en el Punto de Venta</h3>
<p>La responsabilidad del comprador es organizar la cantidad correcta de espacio en los estantes del equipo de operaciones de la tienda y hacer que la mercancía se muestre bien en la tienda. Los equipos de compras crean el atractivo del cliente para la mercancía al coordinarse bien con los expertos en comercialización visual para proyectar la mercancía de manera adecuada en los pisos minoristas.</p>
</section>
<section id="revisión-del-rendimiento-de-la-mercancía" class="level3">
<h3 data-anchor-id="revisión-del-rendimiento-de-la-mercancía">Revisión del rendimiento de la mercancía</h3>
<p>El siguiente paso en el proceso de compra es revisar el rendimiento de la mercancía junto con el equipo de comercialización para ver qué opciones, estilos y SKU específicos se están vendiendo más rápido y qué se debe reponer o qué se debe rebajar o qué se debe promocionar más. . El objetivo clave de esta revisión del piso es asegurarse de que no haya desabastecimientos y que las tiendas no terminen con surtidos rotos durante el pico de la temporada de ventas.</p>
</section>
</section>
<section id="la-organización-de-compra" class="level2">
<h2 data-anchor-id="la-organización-de-compra">La organización de compra</h2>
<p>Como parte de la función general de comercialización de la organización minorista, el equipo de compras desempeña un papel importante en la ejecución de las estrategias y planes de comercialización de la empresa al realizar las compras correctas. Mientras que el jefe de merchandising y compras es responsable de lograr eficiencias de merchandising y compras siguiendo los objetivos planteados, el comprador facilita la correcta ejecución de los planes de compras reportando al jefe de merchandising y compras.</p>
<p>Para un minorista más pequeño, el comprador puede simplemente ejecutar los planes de compra, pero para los grandes minoristas con una gran variedad y un plan de surtido, la organización tendrá departamentos de compras separados para varias categorías de mercancías. Un comprador de un minorista más pequeño puede comprar productos de marca, mientras que un comprador de una gran empresa puede tener la oportunidad de participar en el diseño y desarrollo de los productos. Los asistentes de compras desempeñan un papel menor en el proceso de compra, ya que es posible que aún estén adquiriendo experiencia.</p>
<p>Pueden ayudar a los compradores senior en el proceso de compra, ayudándolos y apoyándolos con los informes y la información necesarios. El papel principal de los compradores es negociar los precios correctos con los vendedores y, por lo tanto, deben poseer buenas habilidades de negociación. La cualidad principal que debe tener un comprador es la perspicacia financiera para comprender el costo y el precio de la mercancía. La inteligencia competitiva sobre los precios y el desempeño de las ventas de varios artículos relacionados en el mercado son fundamentales para la función de compra. Las cualidades que se requieren de un comprador son capacidad innovadora, habilidad conceptual, entusiasmo, creatividad, imaginación, capacidad de decisión y profunda capacidad de análisis.</p>
<p>Figura 1.2 Organización de compra</p>
<p><img src="05.png" class="img-fluid"></p>
</section>
<section id="errores-de-compra" class="level2">
<h2 data-anchor-id="errores-de-compra">Errores de compra</h2>
<p>La tasa de crecimiento de la organización minorista puede requerir la expansión de la base de proveedores para respaldar el consiguiente aumento en el negocio. Una organización minorista puede no prever la necesidad de expandir la base de proveedores en consonancia con su crecimiento. Apostar solo por los proveedores existentes y esperar que aumenten la producción sin trabajar estrechamente con ellos también puede resultar en una entrada inadecuada de proveedores para sostener el crecimiento. Si la organización no tiene la capacidad de reconocer las consecuencias de cualquier proveedor existente y no trabaja en una alternativa rápida, los suministros pueden verse afectados.</p>
<p>Una organización minorista solo puede depender de un puñado de proveedores y en el principio de Pareto; la mayoría de los suministros pueden provenir de unos pocos proveedores. En caso de caída de un proveedor clave, la mayoría de los suministros pueden verse afectados. Por lo tanto, es recomendable que los minoristas trabajen con muchos proveedores para categorías de productos similares.</p>
<p>A menudo, los programas de suministro no se siguen meticulosamente para garantizar la llegada oportuna de la mercancía a las tiendas minoristas. Como resultado, los suministros tardíos pueden causar una gran pérdida de ventas. Una sanción por incumplimiento del proveedor y una recompensa por la entrega oportuna garantizará que los proveedores entreguen la cantidad correcta en el momento correcto.</p>
<p>Si los minoristas no envían la retroalimentación adecuada del proveedor a tiempo y no se toman las medidas correctivas, es posible que los proveedores no tengan la oportunidad de ser eficientes. Por lo tanto, la organización minorista debe tener un sistema de retroalimentación estructurado sobre la calidad del producto, los suministros oportunos y las tasas de éxito de forma regular para los proveedores.</p>
</section>
<section id="mejores-prácticas-en-compras" class="level2">
<h2 data-anchor-id="mejores-prácticas-en-compras">Mejores prácticas en compras</h2>
<section id="presentaciones-de-la-línea-de-productos" class="level3">
<h3 data-anchor-id="presentaciones-de-la-línea-de-productos">Presentaciones de la línea de productos</h3>
<p>Los minoristas progresistas organizan presentaciones de la línea de productos de temporada como parte del proceso de selección de mercancías mientras ejecutan el plan de gama y surtido. Algunos minoristas celebran esto como un gran evento de una semana de duración como una interfaz entre compradores y proveedores, invitando a los proveedores y posibles proveedores a participar. Las tendencias, las proyecciones y el pronóstico de la temporada se ponen sobre la mesa vívidamente para el interés mutuo y los proveedores hacen una presentación elaborada de sus productos junto con sus capacidades.</p>
</section>
<section id="lograr-la-asociación-con-el-proveedor-adecuado" class="level3">
<h3 data-anchor-id="lograr-la-asociación-con-el-proveedor-adecuado">Lograr la asociación con el proveedor adecuado</h3>
<p>La relación minorista-vendedor es una asociación y, por lo tanto, la mejor práctica es especificar claramente los beneficios mutuos acordados a través de un contrato. Las relaciones exclusivas duran más y se vuelven sostenibles para lograr el crecimiento. Tal exclusividad en la sociedad al mismo tiempo no puede ser restrictiva también. La confianza mutua siempre fortalecerá la asociación. Las mejores prácticas en la relación con los proveedores también incluyen iniciativas innovadoras y participativas tomadas por el minorista para lograr un crecimiento inclusivo junto con el crecimiento del proveedor.</p>
</section>
<section id="revisión-del-desempeño-del-proveedor" class="level3">
<h3 data-anchor-id="revisión-del-desempeño-del-proveedor">Revisión del desempeño del proveedor</h3>
<p>El crecimiento del negocio depende en gran medida de la eficiencia de los proveedores. Por lo tanto, los minoristas que están orientados al crecimiento trabajan junto con los proveedores revisando su desempeño periódicamente para los cronogramas de finalización de pedidos, los suministros oportunos y también para la calidad y la cantidad de producción. Las acciones correctivas tomadas y el logro de los objetivos son recompensados por los minoristas de renombre siempre como una mejor práctica. El proceso de revisión del desempeño de los proveedores en el comercio minorista consta de algunos criterios, que son el margen de beneficio (rentabilidad), la calidad, las ventas, la entrega y el cumplimiento social.</p>
<p>V1, V2, V3… = Vendedores</p>
<p>Figura 1.3 Criterios de revisión del desempeño del proveedor</p>
<p><img src="06.png" class="img-fluid"></p>
<p><em>Margen de utilidad</em>: los costos competitivos a los que el proveedor suministra la mercancía se miden para que se logren los objetivos de margen del minorista. El vendedor es evaluado en tales capacidades para suministrar a costos óptimos.</p>
<p><em>Calidad</em>: Se especifican normas de calidad en base a parámetros de calidad de la mercancía, porcentaje de devoluciones de clientes, etc., y se evalúa su cumplimiento.</p>
<p><em>Ventas</em>: Las ventas se miden por el historial de rendimiento de ventas y se comparan con marcas similares en la misma categoría.</p>
<p><em>Entrega</em>: El cumplimiento de los cronogramas de entrega, alcanzar los números exactos en cuanto a tamaño/peso en comparación con las cantidades ordenadas en la orden de compra, el cumplimiento del empaque, etc., se tienen en cuenta para la evaluación.</p>
<p><em>Social</em>: Para la evaluación se tiene en cuenta el cumplimiento de las normas sociales, como la no utilización de mano de obra infantil en el proceso de producción, el cumplimiento de las normas ambientales especificadas, etc.</p>
<p>Los criterios de rendimiento de los proveedores decididos por la organización minorista para sus proveedores, como se explicó anteriormente, generalmente se miden sobre una base promedio ponderada según el grado de importancia de cada criterio especificado.</p>
</section>
<section id="motivación-del-proveedor" class="level3">
<h3 data-anchor-id="motivación-del-proveedor">Motivación del proveedor</h3>
<p>Los minoristas motivan a los proveedores a escalar sus operaciones para lograr mayores cantidades de producción. A medida que crece el negocio, los minoristas a menudo organizan conferencias de proveedores todos los años para que los proveedores sientan que ellos también son parte de la organización y no entidades separadas. En tales reuniones de proveedores, se comparten los planes y objetivos de crecimiento de la empresa para que los proveedores también entiendan su necesidad de ser más productivos para apoyar al minorista de manera adecuada.</p>
</section>
<section id="integridad-de-compra" class="level3">
<h3 data-anchor-id="integridad-de-compra">Integridad de compra</h3>
<p>Comprar integridad se refiere a dos cuestiones críticas. Uno, se refiere al cumplimiento total del plan de compras sin ninguna desviación. En segundo lugar, se refiere a la integridad moral de la organización compradora. Dado que la función de compra asume una gran importancia monetaria, los compradores deben seguir estándares de integridad no negociables. Los minoristas que siguen las mejores prácticas tienen sus valores muy claramente definidos y siguen meticulosamente los valores y principios de la empresa.</p>


</section>
</section>
</main> 
    <div class="about-footer"><div class="about-links">
  <a href="https://www.linkedin.com/in/charlie-arturo-do-amaral-becerra/" class="about-link" rel="" target="">
    <i class="bi bi-linkedin"></i>
     <span class="about-link-text">linkedin</span>
  </a>
</div>
</div>
  </div>
</div>
 <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>